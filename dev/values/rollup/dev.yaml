global:
  useTTY: true
  dev: true
  evmChainId: 1337
  rollupName: astria
  sequencerRpc: http://node0-sequencer-rpc-service.astria-dev-cluster.svc.cluster.local:26657
  sequencerGrpc: http://node0-sequencer-grpc-service.astria-dev-cluster.svc.cluster.local:8080
  sequencerChainId: sequencer-test-chain-0
  celestiaChainId: celestia-local-0

evm-rollup:
  genesis:
    ## These values are used to configure the genesis block of the rollup chain
    ## no defaults as they are unique to each chain

    # Block height to start syncing rollup from, lowest possible is 2
    sequencerInitialHeight: 2
    # The first Celestia height to utilize when looking for rollup data
    celestiaInitialHeight: 2
    # The variance in Celestia height to allow before halting the chain
    celestiaHeightVariance: 10
    # Will fill the extra data in each block, can be left empty
    # can also fill with something unique for your chain.
    extraDataOverride: ""

    ## These are general configuration values with some recommended defaults

    # Configure the gas Limit
    gasLimit: "50000000"
    # If set to true the genesis block will contain extra data
    overrideGenesisExtraData: true
    # The hrp for bech32m addresses, unlikely to be changed
    sequencerAddressPrefix: "astria"

    ## These values are used to configure astria native bridging
    ## Many of the fields have commented out example fields

    # Configure the sequencer bridge addresses and allowed assets if using
    # the astria canonical bridge. Recommend removing alloc values if so.
    bridgeAddresses:
      - bridgeAddress: "astria13ahqz4pjqfmynk9ylrqv4fwe4957x2p0h5782u"
        startHeight: 1
        senderAddress: "0x0000000000000000000000000000000000000000"
        assetDenom: "nria"
        assetPrecision: 9


    ## Fee configuration

    # Configure the fee collector for the evm tx fees, activated at block heights.
    # If not configured, all tx fees will be burned.
    feeCollectors:
      1: "0xaC21B97d35Bf75A7dAb16f35b111a50e78A72F30"
    # Configure EIP-1559 params, activated at block heights
    eip1559Params: {}
      # 1:
      #   minBaseFee: 0
      #   elasticityMultiplier: 2
      #   baseFeeChangeDenominator: 8

    ## Standard Eth Genesis config values
    # Configuration of Eth forks, setting to 0 will enable from height,
    # left as is these forks will not activate.
    cancunTime: ""
    pragueTime: ""
    verkleTime: ""
    # Can configure the genesis allocs for the chain
    alloc:
      # Deploying the deterministic deploy proxy contract in genesis
      # Forge and other tools use this for their CREATE2 usage, but
      # can only be included through the genesis block after EIP-155
      # https://github.com/Arachnid/deterministic-deployment-proxy
      - address: "0x4e59b44847b379578588920cA78FbF26c0B4956C"
        value:
          balance: "0"
          code: "0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf3"
      - address: "0xaC21B97d35Bf75A7dAb16f35b111a50e78A72F30"
        value:
          balance: "10000000000000000000000"
      - address: "0xA58639fB5458e65E4fA917FF951C390292C24A15"
        value:
          balance: "0"
          code: "0x6080604052600436106100fe5760003560e01c8063ad22824711610095578063db97dc9811610064578063db97dc9814610284578063e74b981b14610299578063ebd09054146102b9578063f2fde38b146102d9578063fc88d31b146102f957600080fd5b8063ad22824714610224578063b6476c7e1461023a578063bab916d01461025c578063d294f0931461026f57600080fd5b806388973979116100d1578063889739791461019f5780638da5cb5b146101bf578063a7eaa739146101f1578063a996e0201461021157600080fd5b8063056e0ceb146101035780636f46384a14610118578063715018a6146101415780637eb6dec714610156575b600080fd5b6101166101113660046108e9565b61030f565b005b34801561012457600080fd5b5061012e60035481565b6040519081526020015b60405180910390f35b34801561014d57600080fd5b50610116610404565b34801561016257600080fd5b5061018a7f000000000000000000000000000000000000000000000000000000000000000981565b60405163ffffffff9091168152602001610138565b3480156101ab57600080fd5b506101166101ba36600461095a565b610418565b3480156101cb57600080fd5b506000546001600160a01b03165b6040516001600160a01b039091168152602001610138565b3480156101fd57600080fd5b5061011661020c36600461095a565b610425565b61011661021f3660046108e9565b610432565b34801561023057600080fd5b5061012e60065481565b34801561024657600080fd5b5061024f61050e565b6040516101389190610973565b61011661026a3660046109c1565b61059c565b34801561027b57600080fd5b50610116610682565b34801561029057600080fd5b5061024f6107ae565b3480156102a557600080fd5b506101166102b4366004610a03565b6107bb565b3480156102c557600080fd5b506005546101d9906001600160a01b031681565b3480156102e557600080fd5b506101166102f4366004610a03565b6107e5565b34801561030557600080fd5b5061012e60045481565b3460035480821161033b5760405162461bcd60e51b815260040161033290610a33565b60405180910390fd5b60007f000000000000000000000000000000000000000000000000000000003b9aca006103688385610a96565b6103729190610aaf565b1161038f5760405162461bcd60e51b815260040161033290610ad1565b600354600660008282546103a39190610b5f565b90915550506003546103b59034610a96565b336001600160a01b03167fe2a9f26e4a5238ec0972ce3ed72731212ebc8d2769cf7f17d8bed28a0fc869f5888888886040516103f49493929190610b9b565b60405180910390a3505050505050565b61040c610823565b6104166000610850565b565b610420610823565b600455565b61042d610823565b600355565b346004548082116104555760405162461bcd60e51b815260040161033290610a33565b60007f000000000000000000000000000000000000000000000000000000003b9aca006104828385610a96565b61048c9190610aaf565b116104a95760405162461bcd60e51b815260040161033290610ad1565b600454600660008282546104bd9190610b5f565b90915550506004546104cf9034610a96565b336001600160a01b03167f0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb888888886040516103f49493929190610b9b565b6002805461051b90610bcd565b80601f016020809104026020016040519081016040528092919081815260200182805461054790610bcd565b80156105945780601f1061056957610100808354040283529160200191610594565b820191906000526020600020905b81548152906001019060200180831161057757829003601f168201915b505050505081565b346003548082116105bf5760405162461bcd60e51b815260040161033290610a33565b60007f000000000000000000000000000000000000000000000000000000003b9aca006105ec8385610a96565b6105f69190610aaf565b116106135760405162461bcd60e51b815260040161033290610ad1565b600354600660008282546106279190610b5f565b90915550506003546106399034610a96565b336001600160a01b03167f0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a8686604051610674929190610c07565b60405180910390a350505050565b6005546001600160a01b031633146106ee5760405162461bcd60e51b815260206004820152602960248201527f41737472696142726964676561626c6545524332303a206f6e6c7920666565206044820152681c9958da5c1a595b9d60ba1b6064820152608401610332565b6005546006546040516000926001600160a01b031691908381818185875af1925050503d806000811461073d576040519150601f19603f3d011682016040523d82523d6000602084013e610742565b606091505b50509050806107a65760405162461bcd60e51b815260206004820152602a60248201527f41737472696142726964676561626c6545524332303a20666565207472616e7360448201526919995c8819985a5b195960b21b6064820152608401610332565b506000600655565b6001805461051b90610bcd565b6107c3610823565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6107ed610823565b6001600160a01b03811661081757604051631e4fbdf760e01b815260006004820152602401610332565b61082081610850565b50565b6000546001600160a01b031633146104165760405163118cdaa760e01b8152336004820152602401610332565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008083601f8401126108b257600080fd5b50813567ffffffffffffffff8111156108ca57600080fd5b6020830191508360208285010111156108e257600080fd5b9250929050565b600080600080604085870312156108ff57600080fd5b843567ffffffffffffffff81111561091657600080fd5b610922878288016108a0565b909550935050602085013567ffffffffffffffff81111561094257600080fd5b61094e878288016108a0565b95989497509550505050565b60006020828403121561096c57600080fd5b5035919050565b602081526000825180602084015260005b818110156109a15760208186018101516040868401015201610984565b506000604082850101526040601f19601f83011684010191505092915050565b600080602083850312156109d457600080fd5b823567ffffffffffffffff8111156109eb57600080fd5b6109f7858286016108a0565b90969095509350505050565b600060208284031215610a1557600080fd5b81356001600160a01b0381168114610a2c57600080fd5b9392505050565b6020808252602d908201527f417374726961576974686472617765723a20696e73756666696369656e74207760408201526c69746864726177616c2066656560981b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b81810381811115610aa957610aa9610a80565b92915050565b600082610acc57634e487b7160e01b600052601260045260246000fd5b500490565b60208082526062908201527f417374726961576974686472617765723a20696e73756666696369656e74207660408201527f616c75652c206d7573742062652067726561746572207468616e203130202a2a60608201527f20283138202d20424153455f434841494e5f41535345545f505245434953494f6080820152614e2960f01b60a082015260c00190565b80820180821115610aa957610aa9610a80565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610baf604083018688610b72565b8281036020840152610bc2818587610b72565b979650505050505050565b600181811c90821680610be157607f821691505b602082108103610c0157634e487b7160e01b600052602260045260246000fd5b50919050565b602081526000610c1b602083018486610b72565b94935050505056fea26469706673582212202a17e864e37d24886a87dfb8984aef006344d733d7a40583eaf1b7e6e950a3d864736f6c634300081a0033"


  config:
    # The level at which core astria components will log out
    # Options are: error, warn, info, and debug
    logLevel: "debug"

    conductor:
      # Determines what will drive block execution, options are:
      # - "SoftOnly" -> blocks are only pulled from the sequencer
      # - "FirmOnly" -> blocks are only pulled from DA
      # - "SoftAndFirm" -> blocks are pulled from both the sequencer and DA
      executionCommitLevel: 'SoftAndFirm'
      # The expected fastest block time possible from sequencer, determines polling
      # rate.
      sequencerBlockTimeMs: 2000
      # The maximum number of requests to make to the sequencer per second
      sequencerRequestsPerSecond: 500

    celestia:
      rpc: "http://celestia-service.astria-dev-cluster.svc.cluster.local:26658"
      token: ""

  resources:
    conductor:
      requests:
        cpu: 0.01
        memory: 1Mi
      limits:
        cpu: 0.1
        memory: 20Mi
    geth:
      requests:
        cpu: 0.25
        memory: 256Mi
      limits:
        cpu: 2
        memory: 1Gi

  storage:
    enabled: false

  ingress:
    enabled: true
    services:
      rpc:
        enabled: true
      ws:
        enabled: true

celestia-node:
  enabled: false

composer:
  enabled: true
  config:
    privateKey:
      devContent: "2bd806c97f0e00af1a1fc3328fa763a9269723c8db8fac4f93af71db186d6e90"

evm-bridge-withdrawer:
  enabled: true
  images:
    evmBridgeWithdrawer:
      repo: ghcr.io/astriaorg/bridge-withdrawer
      pullPolicy: IfNotPresent
      tag: local
      devTag: local
  config:
    minExpectedFeeAssetBalance: "0"
    sequencerBridgeAddress: "astria13ahqz4pjqfmynk9ylrqv4fwe4957x2p0h5782u"
    feeAssetDenom: "nria"
    rollupAssetDenom: "nria"
    evmContractAddress: "0xA58639fB5458e65E4fA917FF951C390292C24A15"
    sequencerPrivateKey:
      devContent: "dfa7108e38ab71f89f356c72afc38600d5758f11a8c337164713e4471411d2e0"

evm-faucet:
  enabled: true
  ingress:
    enabled: true
  config:
    privateKey:
      devContent: "8b3a7999072c9c9314c084044fe705db11714c6c4ed7cddb64da18ea270dd203"

postgresql:
  enabled: true
  nameOverride: blockscout-postegres
  primary:
    persistence:
      enabled: false
    resourcesPreset: "medium"
  auth:
    enablePostgresUser: true
    postgresPassword: bigsecretpassword
    username: blockscout
    password: blockscout
    database: blockscout
  audit:
    logHostname: true
    logConnections: true
    logDisconnections: true
blockscout-stack:
  enabled: true
  config:
    network:
      id: 1337
      name: Astria
      shortname: Astria
      currency:
        name: RIA
        symbol: RIA
        decimals: 18
    testnet: true
    prometheus:
      enabled: false
  blockscout:
    extraEnv:
      - name: ECTO_USE_SSL
        value: "false"
      - name: DATABASE_URL
        value: "postgres://postgres:bigsecretpassword@astria-chain-chart-blockscout-postegres.astria-dev-cluster.svc.cluster.local:5432/blockscout"
      - name: ETHEREUM_JSONRPC_VARIANT
        value: "geth"
      - name: ETHEREUM_JSONRPC_HTTP_URL
        value: "http://astria-evm-service.astria-dev-cluster.svc.cluster.local:8545/"
      - name: ETHEREUM_JSONRPC_INSECURE
        value: "true"
      - name: ETHEREUM_JSONRPC_WS_URL
        value: "ws://astria-evm-service.astria-dev-cluster.svc.cluster.local:8546/"
      - name: INDEXER_DISABLE_BEACON_BLOB_FETCHER
        value: "true"
      - name: NETWORK
        value: "Astria"
      - name: SUBNETWORK
        value: "Local"
      - name: CONTRACT_VERIFICATION_ALLOWED_SOLIDITY_EVM_VERSIONS
        value: "homestead,tangerineWhistle,spuriousDragon,byzantium,constantinople,petersburg,istanbul,berlin,london,paris,shanghai,default"
      - name: CONTRACT_VERIFICATION_ALLOWED_VYPER_EVM_VERSIONS
        value: "byzantium,constantinople,petersburg,istanbul,berlin,paris,shanghai,default"
      - name: DISABLE_EXCHANGE_RATES
        value: "true"

    ingress:
      enabled: true
      hostname: explorer.astria.localdev.me
      paths:
        - path: /api
          pathType: Prefix
        - path: /socket
          pathType: Prefix
        - path: /sitemap.xml
          pathType: ImplementationSpecific
        - path: /public-metrics
          pathType: Prefix
        - path: /auth/auth0
          pathType: Exact
        - path: /auth/auth0/callback
          pathType: Exact
        - path: /auth/logout
          pathType: Exact

  frontend:
    extraEnv:
      - name: NEXT_PUBLIC_NETWORK_VERIFICATION_TYPE
        value: "validation"
      - name: NEXT_PUBLIC_AD_BANNER_PROVIDER
        value: "none"
      - name: NEXT_PUBLIC_API_PROTOCOL
        value: "http"
      - name: NEXT_PUBLIC_API_WEBSOCKET_PROTOCOL
        value: "ws"
      - name: NEXT_PUBLIC_NETWORK_CURRENCY_WEI_NAME
        value: "aRia"
      - name: NEXT_PUBLIC_AD_TEXT_PROVIDER
        value: "none"
    ingress:
      enabled: true
      hostname: explorer.astria.localdev.me
