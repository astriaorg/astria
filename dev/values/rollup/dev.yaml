global:
  useTTY: true
  dev: true
  evmChainId: 1337
  rollupName: astria
  sequencerRpc: http://node0-sequencer-rpc-service.astria-dev-cluster.svc.cluster.local:26657
  sequencerGrpc: http://node0-sequencer-grpc-service.astria-dev-cluster.svc.cluster.local:8080
  sequencerChainId: sequencer-test-chain-0
  celestiaChainId: celestia-local-0

evm-rollup:
  genesis:
    ## These values are used to configure the genesis block of the rollup chain
    ## no defaults as they are unique to each chain

    # Block height to start syncing rollup from, lowest possible is 2
    sequencerInitialHeight: 2
    # The first Celestia height to utilize when looking for rollup data
    celestiaInitialHeight: 2
    # The variance in Celestia height to allow before halting the chain
    celestiaHeightVariance: 10
    # Will fill the extra data in each block, can be left empty
    # can also fill with something unique for your chain.
    extraDataOverride: ""

    ## These are general configuration values with some recommended defaults

    # Configure the gas Limit
    gasLimit: "50000000"
    # If set to true the genesis block will contain extra data
    overrideGenesisExtraData: true
    # The hrp for bech32m addresses, unlikely to be changed
    sequencerAddressPrefix: "astria"

    ## These values are used to configure astria native bridging
    ## Many of the fields have commented out example fields

    # Configure the sequencer bridge addresses and allowed assets if using
    # the astria canonical bridge. Recommend removing alloc values if so.
    bridgeAddresses:
      - bridgeAddress: "astria13ahqz4pjqfmynk9ylrqv4fwe4957x2p0h5782u"
        startHeight: 1
        senderAddress: "0x0000000000000000000000000000000000000000"
        assetDenom: "nria"
        assetPrecision: 9

    ## Native oracle configuration

    # address from which injected oracle transactions are called from;
    # must not have a known private key for mainnet
    astriaOracleCallerAddress: "0x0000000000000000000000000000000000000088"
    # address where the oracle contract is deployed at (at genesis)
    # must match the `alloc` genesis field
    astriaOracleContractAddress: "0x0000000000000000000000000000000000000089"

    ## Fee configuration

    # Configure the fee collector for the evm tx fees, activated at block heights.
    # If not configured, all tx fees will be burned.
    feeCollectors:
      1: "0xaC21B97d35Bf75A7dAb16f35b111a50e78A72F30"
    # Configure EIP-1559 params, activated at block heights
    eip1559Params: {}
      # 1:
      #   minBaseFee: 0
      #   elasticityMultiplier: 2
      #   baseFeeChangeDenominator: 8

    ## Standard Eth Genesis config values
    # Configuration of Eth forks, setting to 0 will enable from height,
    # left as is these forks will not activate.
    cancunTime: "0"
    pragueTime: ""
    verkleTime: ""
    # Can configure the genesis allocs for the chain
    alloc:
      # Deploying the deterministic deploy proxy contract in genesis
      # Forge and other tools use this for their CREATE2 usage, but
      # can only be included through the genesis block after EIP-155
      # https://github.com/Arachnid/deterministic-deployment-proxy
      - address: "0x4e59b44847b379578588920cA78FbF26c0B4956C"
        value:
          balance: "0"
          code: "0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf3"
      # EIP-4877 Beacon Block Contract
      # Code is defined by the contract in the spec: https://eips.ethereum.org/EIPS/eip-4788
      - address: "0x000F3df6D732807Ef1319fB7B8bB8522d0Beac02"
        value:
          balance: "0"
          code: "0x3373fffffffffffffffffffffffffffffffffffffffe14604d57602036146024575f5ffd5b5f35801560495762001fff810690815414603c575f5ffd5b62001fff01545f5260205ff35b5f5ffd5b62001fff42064281555f359062001fff015500"
      # The EVM Withdrawer contract
      - address: "0xA58639fB5458e65E4fA917FF951C390292C24A15"
        value:
          balance: "0"
          code: "0x6080604052600436106100f35760003560e01c8063b6476c7e1161008a578063e74b981b11610059578063e74b981b1461027b578063ebd090541461029b578063f2fde38b146102bb578063fc88d31b146102db57600080fd5b8063b6476c7e1461021c578063bab916d01461023e578063d294f09314610251578063db97dc981461026657600080fd5b80638da5cb5b116100c65780638da5cb5b146101a1578063a7eaa739146101d3578063a996e020146101f3578063ad2282471461020657600080fd5b80636f46384a146100f8578063715018a6146101215780637eb6dec7146101385780638897397914610181575b600080fd5b34801561010457600080fd5b5061010e60035481565b6040519081526020015b60405180910390f35b34801561012d57600080fd5b506101366102f1565b005b34801561014457600080fd5b5061016c7f000000000000000000000000000000000000000000000000000000000000000981565b60405163ffffffff9091168152602001610118565b34801561018d57600080fd5b5061013661019c3660046107a6565b610305565b3480156101ad57600080fd5b506000546001600160a01b03165b6040516001600160a01b039091168152602001610118565b3480156101df57600080fd5b506101366101ee3660046107a6565b610312565b610136610201366004610808565b61031f565b34801561021257600080fd5b5061010e60065481565b34801561022857600080fd5b50610231610414565b6040516101189190610874565b61013661024c3660046108c3565b6104a2565b34801561025d57600080fd5b50610136610588565b34801561027257600080fd5b506102316106b4565b34801561028757600080fd5b50610136610296366004610905565b6106c1565b3480156102a757600080fd5b506005546101bb906001600160a01b031681565b3480156102c757600080fd5b506101366102d6366004610905565b6106eb565b3480156102e757600080fd5b5061010e60045481565b6102f9610729565b6103036000610756565b565b61030d610729565b600455565b61031a610729565b600355565b3460045480821161034b5760405162461bcd60e51b815260040161034290610935565b60405180910390fd5b60007f000000000000000000000000000000000000000000000000000000003b9aca006103788385610998565b61038291906109b1565b1161039f5760405162461bcd60e51b8152600401610342906109d3565b600454600660008282546103b39190610a61565b90915550506004546103c59034610998565b336001600160a01b03167f0c64e29a5254a71c7f4e52b3d2d236348c80e00a00ba2e1961962bd2827c03fb888888886040516104049493929190610a9d565b60405180910390a3505050505050565b6002805461042190610acf565b80601f016020809104026020016040519081016040528092919081815260200182805461044d90610acf565b801561049a5780601f1061046f5761010080835404028352916020019161049a565b820191906000526020600020905b81548152906001019060200180831161047d57829003601f168201915b505050505081565b346003548082116104c55760405162461bcd60e51b815260040161034290610935565b60007f000000000000000000000000000000000000000000000000000000003b9aca006104f28385610998565b6104fc91906109b1565b116105195760405162461bcd60e51b8152600401610342906109d3565b6003546006600082825461052d9190610a61565b909155505060035461053f9034610998565b336001600160a01b03167f0f4961cab7530804898499aa89f5ec81d1a73102e2e4a1f30f88e5ae3513ba2a868660405161057a929190610b09565b60405180910390a350505050565b6005546001600160a01b031633146105f45760405162461bcd60e51b815260206004820152602960248201527f41737472696142726964676561626c6545524332303a206f6e6c7920666565206044820152681c9958da5c1a595b9d60ba1b6064820152608401610342565b6005546006546040516000926001600160a01b031691908381818185875af1925050503d8060008114610643576040519150601f19603f3d011682016040523d82523d6000602084013e610648565b606091505b50509050806106ac5760405162461bcd60e51b815260206004820152602a60248201527f41737472696142726964676561626c6545524332303a20666565207472616e7360448201526919995c8819985a5b195960b21b6064820152608401610342565b506000600655565b6001805461042190610acf565b6106c9610729565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6106f3610729565b6001600160a01b03811661071d57604051631e4fbdf760e01b815260006004820152602401610342565b61072681610756565b50565b6000546001600160a01b031633146103035760405163118cdaa760e01b8152336004820152602401610342565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000602082840312156107b857600080fd5b5035919050565b60008083601f8401126107d157600080fd5b50813567ffffffffffffffff8111156107e957600080fd5b60208301915083602082850101111561080157600080fd5b9250929050565b6000806000806040858703121561081e57600080fd5b843567ffffffffffffffff8082111561083657600080fd5b610842888389016107bf565b9096509450602087013591508082111561085b57600080fd5b50610868878288016107bf565b95989497509550505050565b60006020808352835180602085015260005b818110156108a257858101830151858201604001528201610886565b506000604082860101526040601f19601f8301168501019250505092915050565b600080602083850312156108d657600080fd5b823567ffffffffffffffff8111156108ed57600080fd5b6108f9858286016107bf565b90969095509350505050565b60006020828403121561091757600080fd5b81356001600160a01b038116811461092e57600080fd5b9392505050565b6020808252602d908201527f417374726961576974686472617765723a20696e73756666696369656e74207760408201526c69746864726177616c2066656560981b606082015260800190565b634e487b7160e01b600052601160045260246000fd5b818103818111156109ab576109ab610982565b92915050565b6000826109ce57634e487b7160e01b600052601260045260246000fd5b500490565b60208082526062908201527f417374726961576974686472617765723a20696e73756666696369656e74207660408201527f616c75652c206d7573742062652067726561746572207468616e203130202a2a60608201527f20283138202d20424153455f434841494e5f41535345545f505245434953494f6080820152614e2960f01b60a082015260c00190565b808201808211156109ab576109ab610982565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b604081526000610ab1604083018688610a74565b8281036020840152610ac4818587610a74565b979650505050505050565b600181811c90821680610ae357607f821691505b602082108103610b0357634e487b7160e01b600052602260045260246000fd5b50919050565b602081526000610b1d602083018486610a74565b94935050505056fea2646970667358221220842bd8104ffc1c611919341f64a8277f2fc808138b97720a6dc1382e5670099064736f6c63430008190033"
      - address: "0x0000000000000000000000000000000000000089"  ## oracle contract
        value:
          balance: "0"
          code: "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c80638da5cb5b1161008c578063abcdd06911610066578063abcdd0691461021a578063dad84e9d1461023d578063f2fde38b1461029a578063f6dad934146102ad57600080fd5b80638da5cb5b146101d257806395009a53146101e35780639c97f6d8146101f657600080fd5b806348832f3c116100c857806348832f3c1461015f578063715018a614610172578063859bd5b51461017a578063888810c9146101bf57600080fd5b806338013f02146100ef5780633a6a7162146101335780634599c78814610148575b600080fd5b6101167f000000000000000000000000000000000000000000000000000000000000008881565b6040516001600160a01b0390911681526020015b60405180910390f35b610146610141366004610865565b6102c0565b005b61015160045481565b60405190815260200161012a565b61014661016d366004610891565b6103da565b6101466104ea565b6101a66101883660046108c7565b60026020526000908152604090205460ff8082169161010090041682565b60408051921515835260ff90911660208301520161012a565b6101466101cd3660046108e0565b6104fe565b6000546001600160a01b0316610116565b6101466101f13660046109e6565b610524565b60005461020a90600160a01b900460ff1681565b604051901515815260200161012a565b61020a6102283660046108c7565b60016020526000908152604090205460ff1681565b61027b61024b366004610a9f565b6003602090815260009283526040808420909152908252902080546001909101546001600160801b039091169082565b604080516001600160801b03909316835260208301919091520161012a565b6101466102a8366004610ac1565b610768565b6101466102bb3660046108c7565b6107a6565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000008816146103115760405162461bcd60e51b815260040161030890610aea565b60405180910390fd5b4360045560008281526002602052604090205460ff166103475760405163183c4ba760e01b815260006004820152602401610308565b6040805180820182526001600160801b038381168083524260208085019182526004546000908152600382528681208982528252869020945185546001600160801b0319169416939093178455516001909301929092558251858152908101919091527fd616ae5f8d378c1264fdbbbc72af91e16e3645564d7eae37e267ef1c67bf5cee91015b60405180910390a15050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000008816146104225760405162461bcd60e51b815260040161030890610aea565b600054600160a01b900460ff16801561044a575060008281526001602052604090205460ff16155b1561046b5760405163401e592360e01b815260048101839052602401610308565b6040805180820182526001815260ff838116602080840182815260008881526002835286902094518554915161ffff1990921690151561ff001916176101009190941602929092179092558251858152908101919091527f675b5c62c7826a107baf315a10339c41c59f32f58ac6431f359e9ac89c64a01b91016103ce565b6104f26107cc565b6104fc60006107f9565b565b6105066107cc565b60008054911515600160a01b0260ff60a01b19909216919091179055565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000088161461056c5760405162461bcd60e51b815260040161030890610aea565b80518251146105cd5760405162461bcd60e51b815260206004820152602760248201527f63757272656e6379207061697220616e64207072696365206c656e677468206d6044820152660d2e6dac2e8c6d60cb1b6064820152608401610308565b4360045560005b825181101561076357600260008483815181106105f3576105f3610b2e565b60209081029190910181015182528101919091526040016000205460ff166106315760405163183c4ba760e01b815260048101829052602401610308565b604051806040016040528083838151811061064e5761064e610b2e565b60200260200101516001600160801b0316815260200142815250600360006004548152602001908152602001600020600085848151811061069157610691610b2e565b602090810291909101810151825281810192909252604001600020825181546001600160801b0319166001600160801b0390911617815591015160019091015582517fd616ae5f8d378c1264fdbbbc72af91e16e3645564d7eae37e267ef1c67bf5cee9084908390811061070757610707610b2e565b602002602001015183838151811061072157610721610b2e565b60200260200101516040516107499291909182526001600160801b0316602082015260400190565b60405180910390a18061075b81610b44565b9150506105d4565b505050565b6107706107cc565b6001600160a01b03811661079a57604051631e4fbdf760e01b815260006004820152602401610308565b6107a3816107f9565b50565b6107ae6107cc565b6000908152600160208190526040909120805460ff19169091179055565b6000546001600160a01b031633146104fc5760405163118cdaa760e01b8152336004820152602401610308565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160801b038116811461086057600080fd5b919050565b6000806040838503121561087857600080fd5b8235915061088860208401610849565b90509250929050565b600080604083850312156108a457600080fd5b82359150602083013560ff811681146108bc57600080fd5b809150509250929050565b6000602082840312156108d957600080fd5b5035919050565b6000602082840312156108f257600080fd5b8135801515811461090257600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561094857610948610909565b604052919050565b600067ffffffffffffffff82111561096a5761096a610909565b5060051b60200190565b600082601f83011261098557600080fd5b8135602061099a61099583610950565b61091f565b82815260059290921b840181019181810190868411156109b957600080fd5b8286015b848110156109db576109ce81610849565b83529183019183016109bd565b509695505050505050565b600080604083850312156109f957600080fd5b823567ffffffffffffffff80821115610a1157600080fd5b818501915085601f830112610a2557600080fd5b81356020610a3561099583610950565b82815260059290921b84018101918181019089841115610a5457600080fd5b948201945b83861015610a7257853582529482019490820190610a59565b96505086013592505080821115610a8857600080fd5b50610a9585828601610974565b9150509250929050565b60008060408385031215610ab257600080fd5b50508035926020909101359150565b600060208284031215610ad357600080fd5b81356001600160a01b038116811461090257600080fd5b60208082526024908201527f4173747269614f7261636c653a206f6e6c79206f7261636c652063616e2075706040820152636461746560e01b606082015260800190565b634e487b7160e01b600052603260045260246000fd5b600060018201610b6457634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212203dba20374b20748c9e2f92d4416b253adb31e624e5086145f955c848297d924c64736f6c63430008150033"

  config:
    # The level at which core astria components will log out
    # Options are: error, warn, info, and debug
    logLevel: "debug"

    conductor:
      # Determines what will drive block execution, options are:
      # - "SoftOnly" -> blocks are only pulled from the sequencer
      # - "FirmOnly" -> blocks are only pulled from DA
      # - "SoftAndFirm" -> blocks are pulled from both the sequencer and DA
      executionCommitLevel: 'SoftAndFirm'
      # The expected fastest block time possible from sequencer, determines polling
      # rate.
      sequencerBlockTimeMs: 2000
      # The maximum number of requests to make to the sequencer per second
      sequencerRequestsPerSecond: 500

    celestia:
      rpc: "http://celestia-service.astria-dev-cluster.svc.cluster.local:26658"
      token: ""

  resources:
    conductor:
      requests:
        cpu: 0.01
        memory: 1Mi
      limits:
        cpu: 0.1
        memory: 20Mi
    geth:
      requests:
        cpu: 0.25
        memory: 256Mi
      limits:
        cpu: 2
        memory: 1Gi

  storage:
    enabled: false

  ingress:
    enabled: true
    services:
      rpc:
        enabled: true
      ws:
        enabled: true

celestia-node:
  enabled: false

composer:
  enabled: true
  config:
    privateKey:
      devContent: "2bd806c97f0e00af1a1fc3328fa763a9269723c8db8fac4f93af71db186d6e90"

evm-bridge-withdrawer:
  enabled: true
  config:
    minExpectedFeeAssetBalance: "0"
    sequencerBridgeAddress: "astria13ahqz4pjqfmynk9ylrqv4fwe4957x2p0h5782u"
    feeAssetDenom: "nria"
    rollupAssetDenom: "nria"
    evmContractAddress: "0xA58639fB5458e65E4fA917FF951C390292C24A15"
    sequencerPrivateKey:
      devContent: "dfa7108e38ab71f89f356c72afc38600d5758f11a8c337164713e4471411d2e0"

evm-faucet:
  enabled: true
  ingress:
    enabled: true
  config:
    privateKey:
      devContent: "8b3a7999072c9c9314c084044fe705db11714c6c4ed7cddb64da18ea270dd203"

postgresql:
  enabled: true
  nameOverride: blockscout-postegres
  primary:
    persistence:
      enabled: false
    resourcesPreset: "medium"
  auth:
    enablePostgresUser: true
    postgresPassword: bigsecretpassword
    username: blockscout
    password: blockscout
    database: blockscout
  audit:
    logHostname: true
    logConnections: true
    logDisconnections: true
blockscout-stack:
  enabled: true
  config:
    network:
      id: 1337
      name: Astria
      shortname: Astria
      currency:
        name: RIA
        symbol: RIA
        decimals: 18
    testnet: true
    prometheus:
      enabled: false
  blockscout:
    extraEnv:
      - name: ECTO_USE_SSL
        value: "false"
      - name: DATABASE_URL
        value: "postgres://postgres:bigsecretpassword@astria-chain-chart-blockscout-postegres.astria-dev-cluster.svc.cluster.local:5432/blockscout"
      - name: ETHEREUM_JSONRPC_VARIANT
        value: "geth"
      - name: ETHEREUM_JSONRPC_HTTP_URL
        value: "http://astria-evm-service.astria-dev-cluster.svc.cluster.local:8545/"
      - name: ETHEREUM_JSONRPC_INSECURE
        value: "true"
      - name: ETHEREUM_JSONRPC_WS_URL
        value: "ws://astria-evm-service.astria-dev-cluster.svc.cluster.local:8546/"
      - name: INDEXER_DISABLE_BEACON_BLOB_FETCHER
        value: "true"
      - name: NETWORK
        value: "Astria"
      - name: SUBNETWORK
        value: "Local"
      - name: CONTRACT_VERIFICATION_ALLOWED_SOLIDITY_EVM_VERSIONS
        value: "homestead,tangerineWhistle,spuriousDragon,byzantium,constantinople,petersburg,istanbul,berlin,london,paris,shanghai,default"
      - name: CONTRACT_VERIFICATION_ALLOWED_VYPER_EVM_VERSIONS
        value: "byzantium,constantinople,petersburg,istanbul,berlin,paris,shanghai,default"
      - name: DISABLE_EXCHANGE_RATES
        value: "true"

    ingress:
      enabled: true
      hostname: explorer.astria.localdev.me
      paths:
        - path: /api
          pathType: Prefix
        - path: /socket
          pathType: Prefix
        - path: /sitemap.xml
          pathType: ImplementationSpecific
        - path: /public-metrics
          pathType: Prefix
        - path: /auth/auth0
          pathType: Exact
        - path: /auth/auth0/callback
          pathType: Exact
        - path: /auth/logout
          pathType: Exact

  frontend:
    extraEnv:
      - name: NEXT_PUBLIC_NETWORK_VERIFICATION_TYPE
        value: "validation"
      - name: NEXT_PUBLIC_AD_BANNER_PROVIDER
        value: "none"
      - name: NEXT_PUBLIC_API_PROTOCOL
        value: "http"
      - name: NEXT_PUBLIC_API_WEBSOCKET_PROTOCOL
        value: "ws"
      - name: NEXT_PUBLIC_NETWORK_CURRENCY_WEI_NAME
        value: "aRia"
      - name: NEXT_PUBLIC_AD_TEXT_PROVIDER
        value: "none"
    ingress:
      enabled: true
      hostname: explorer.astria.localdev.me
