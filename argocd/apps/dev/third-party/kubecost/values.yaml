persistentVolume:
  enabled: true



kubecostMetrics:
  emitPodAnnotations: true
  emitNamespaceAnnotations: true



kubecostProductConfigs:
  productKey: 
    enabled: true
    secretname: "kubecost-product-key"

  # secret name for the GCP service account key (if using service account instead of workload identity)
  gcpSecretName: "compute-viewer-kubecost-key" 

  projectID: "astria-devnet-dev-389720"
#   cloudAccountMapping:
#     ACCOUNT_ID: "astria-dev" # This is the account ID used in the cloud provider
#     bigQueryBillingDataProject: "astria-devnet-dev-389720"
#     bigQueryBillingDataTable: "kubecost_billing_data"
#     bigQueryBillingDataDataset: "astria-dev.kubecost_billing_data"



# Ensure Kubecost deployment runs on nodes that use Workload Identity
nodeSelector:
  iam.gke.io/gke-metadata-server-enabled: "true"



# Add annotations to all kubecost-related serviceaccounts
serviceAccount:
  annotations:
    iam.gke.io/gcp-service-account: "compute-viewer-kubecost@$astria-devnet-dev-389720.iam.gserviceaccount.com"



ingress:
  annotations:
    cert-manager.io/cluster-issuer: "cloudflare-issuer"
  className: nginx
  enabled: true
  hosts:
  - kubecost.dev.astria.org
  tls:
  - hosts:
    - kubecost.dev.astria.org
    - dev.astria.org
    - astria.org
    secretName: kubecost-tls
