# Default values for rollup.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
global:
  namespace: "astria-dev-cluster"
  replicaCount: 1
  useTTY: false

config:
  logLevel: "debug"

  rollup:
    # Name for Rollup Chain
    name: astria-dev
    # Chain ID used for submission to shared sequencer, and generating DA namespace
    chainId: astria-dev-rollup
    # EVM network ID used by the chain
    networkId: 912559
    # Set to true to have rollup blocks only be generated when there are transactions
    skipEmptyBlocks: false
    # Determines what will drive block execution, options are:
    # - "SoftOnly" -> blocks are only pulled from the sequencer
    # - "FirmOnly" -> blocks are only pulled from DA
    # - "SoftAndFirm" -> blocks are pulled from both the sequencer and DA
    executionCommitLevel: 'SoftAndFirm'
    # Definitions around who has funding on startup
    genesis:
      alloc:
        - address: "0x95E696aFDc14970b342A2e677A31cb73B0774290"
          value:
            balance: "100000000000000000000000000"
    metrics:
      enabled: true
    serviceMonitor:
      enabled: true
    
  faucet:
    # The amount of token to give per request
    amount: 1
    privateKey: "0x10fa42d1f971361677990d78fe68f1049193bc46d5dc6ade974007a357ff0ac4"
  
  sequencer:
    # Block height to start syncing rollup from
    initialBlockHeight: 1
    # Websocket connection used for
    websocket: "ws://node0-sequencer-rpc-service.astria-dev-cluster.svc.cluster.local:26657/websocket"
    # URL path for the sequencer
    rpc: "http://node0-sequencer-rpc-service.astria-dev-cluster.svc.cluster.local:26657"

storage:
  enabled: true
  local: false
  entities:
    rollupSharedStorage:
      size: "200Gi"
      persistentVolumeName: "rollup-shared-storage"
      path: "/data/rollup-data"

secretProvider:
  enabled: false

ingress:
  services:
    rpc:
      annotations:
        external-dns.alpha.kubernetes.io/hostname: rpc-evm.dev.astria.org
        external-dns.alpha.kubernetes.io/ttl: "120"
        external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
        nginx.ingress.kubernetes.io/ssl-passthrough: "true"
      hosts:
        - rpc-evm.dev.astria.org
    ws:
      annotations:
        external-dns.alpha.kubernetes.io/hostname: ws-evm.dev.astria.org
        external-dns.alpha.kubernetes.io/ttl: "120"
        external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
        nginx.ingress.kubernetes.io/ssl-passthrough: "true"
      hosts:
        - ws-evm.dev.astria.org
    faucet:
      annotations:
        external-dns.alpha.kubernetes.io/hostname: faucet-evm.dev.astria.org
        external-dns.alpha.kubernetes.io/ttl: "120"
        external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
        kubernetes.io/ingress.class: nginx
        nginx.ingress.kubernetes.io/ssl-passthrough: "true"
      hosts:
        - faucet-evm.dev.astria.org
    explorer:
      annotations:
        external-dns.alpha.kubernetes.io/hostname: explorer-evm.dev.astria.org
        external-dns.alpha.kubernetes.io/ttl: "120"
        external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
        nginx.ingress.kubernetes.io/ssl-passthrough: "true"
      hosts:
        - explorer-evm.dev.astria.org
